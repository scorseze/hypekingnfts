(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{62214:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return n(77381)}])},67704:function(){"use strict"},10031:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(85893),i=n(45697),s=n.n(i),o=n(21149),a=n(69795),u=n(11163),c=(n(67704),s().shape({description:s().string.isRequired,image:s().string.isRequired,name:s().string.isRequired,tokenId:s().number.isRequired})),l=n(96076);n(19625);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f,p=l.aI.LIST_ITEM,x=l.aI.REMOVE_ITEM,m=l.aI.BUY,v=(d(f={},p,{label:"List item",action:p}),d(f,x,{label:"Remove item",action:x}),d(f,m,{label:"Buy",action:m}),{nft:c.isRequired,onHandleAction:s().oneOfType([s().func,s().bool]),isActionLoading:s().bool,selectedTokenId:s().number}),h=function(e){var t=e.nft,n=(e.onHandleAction,e.isActionLoading,e.selectedTokenId,(0,a.Ge)().account,(0,u.useRouter)()),i=t.name,s=t.image,o=(t.description,t.price),c=(t.seller,t.tokenId);return(0,r.jsxs)("li",{className:"relative text-gray-200 border-2 border-rose-600 shadow-homogen bg-background rounded-2xl",onClick:function(){n.push({pathname:"/nft/[nft]",query:{nft:c}})},children:[(0,r.jsxs)("span",{className:"absolute z-10 inline-flex items-center px-3 text-sm font-semibold text-white rounded-full bg-rose-600 right-2 top-2",children:["# ",(0,r.jsx)("span",{className:"pl-1 text-xl",children:t.itemId})]}),(0,r.jsx)("div",{className:"p-4 cursor-pointer",children:(0,r.jsx)("img",{src:s,className:"object-cover aspect-square rounded-2xl"})}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("p",{className:"text-2xl font-semibold",children:i})}),o&&(0,r.jsxs)("div",{className:"flex p-4",children:[(0,r.jsx)("img",{src:"https://app.airnfts.com/coins/bnb.svg",alt:"Metamask logo",height:28,width:28}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white ml-2",children:o})]})]})};h.defaultProps={onHandleAction:null,isActionLoading:!1,selectedTokenId:null},h.propTypes=v;var g=h,b={nfts:s().arrayOf(c).isRequired,onHandleAction:s().oneOfType([s().func,s().bool]),isActionLoading:s().bool,isLoading:s().bool.isRequired,emptyListMessage:s().string.isRequired,selectedTokenId:s().number},y=function(e){return(0,r.jsx)("div",{className:"flex justify-center items-center flex-1",children:e})},k=function(e){var t=e.nfts,n=e.onHandleAction,i=e.isActionLoading,s=e.isLoading,a=e.emptyListMessage,u=e.selectedTokenId;return s?y((0,r.jsx)(o.Z,{size:"1"})):s||t.length?(0,r.jsx)("ul",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 lg:gap-4 xl:grid-cols-4 2xl:grid-cols-5 pt-5",children:t.map((function(e){return(0,r.jsx)(g,{nft:e,onHandleAction:n,isActionLoading:i,selectedTokenId:u},e.tokenId)}))}):y((0,r.jsx)("h1",{className:"text-2xl",children:a}))};k.defaultProps={onHandleAction:null,isActionLoading:!1,selectedTokenId:null},k.propTypes=b;var w=k},18875:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),s=n(67294),o=n(40782),a=n(31838),u=n(90594),c=n(23478);function l(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){l(s,r,i,o,a,"next",e)}function a(e){l(s,r,i,o,a,"throw",e)}o(void 0)}))}}t.Z=function(){var e=(0,s.useState)(!1),t=e[0],n=e[1],r=(0,s.useRef)(null),l=(0,c.Z)().signedMarketContract,f=function(){var e=d(i().mark((function e(t){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),r.current=(0,o.Am)("Waiting for transaction approval",{isLoading:!0}),e.next=4,l.removeMarketSale(a.k,t).then(function(){var e=d(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.Z)(r.current,o.Am.TYPE.DEFAULT,"Processing transaction",!0),e.abrupt("return",t.wait().then((function(e){return(0,u.Z)(r.current,o.Am.TYPE.SUCCESS,"Item removed successfully!"),e})).catch((function(e){return(0,u.Z)(r.current,o.Am.TYPE.ERROR,e.message),e})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return(0,u.Z)(r.current,o.Am.TYPE.ERROR,e.message),e}));case 4:return s=e.sent,n(!1),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{removeListingNftMutation:f,isLoading:t}}},55854:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),s=n(67294),o=n(69795),a=n(40782),u=n(9669),c=n.n(u),l=n(7153),d=n(23478);function f(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){f(s,r,i,o,a,"next",e)}function a(e){f(s,r,i,o,a,"throw",e)}o(void 0)}))}}t.Z=function(){var e=(0,s.useState)([]),t=e[0],n=e[1],r=(0,s.useState)(!1),u=r[0],f=r[1],x=(0,o.Ge)().active,m=(0,d.Z)(),v=m.tokenContract,h=m.signedMarketContract,g=(0,s.useCallback)(p(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),x&&h&&v){e.next=5;break}return n([]),f(!1),e.abrupt("return");case 5:return e.next=7,h.fetchItemsCreated().catch((function(e){return a.Am.error("".concat(e)),null}));case 7:if(!(t=e.sent)){e.next=13;break}return e.next=11,Promise.all(t.map(function(){var e=p(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.tokenURI(t.tokenId);case 2:return n=e.sent,e.next=5,c().get(n);case 5:return r=e.sent,e.abrupt("return",(0,l.Z)(t,r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:r=e.sent,n(r);case 13:f(!1);case 14:case"end":return e.stop()}}),e)}))),[h,v,x]);return(0,s.useEffect)((function(){g()}),[g]),{data:t,isLoading:u,refetch:g}}},18845:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),s=n(67294),o=n(69795),a=n(40782),u=n(9669),c=n.n(u),l=n(7153),d=n(23478);function f(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){f(s,r,i,o,a,"next",e)}function a(e){f(s,r,i,o,a,"throw",e)}o(void 0)}))}}t.Z=function(){var e=(0,s.useState)([]),t=e[0],n=e[1],r=(0,s.useState)(!1),u=r[0],f=r[1],x=(0,o.Ge)(),m=x.active,v=x.account,h=(0,d.Z)().tokenContract,g=(0,s.useCallback)(p(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),m&&h){e.next=5;break}return n([]),f(!1),e.abrupt("return");case 5:return e.next=7,h.getTokenIds(v).catch((function(e){return a.Am.error("".concat(e)),null}));case 7:if(!(t=e.sent)){e.next=13;break}return e.next=11,Promise.all(t.map(function(){var e=p(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.tokenURI(t.toNumber());case 2:return n=e.sent,e.next=5,c().get(n);case 5:return r=e.sent,e.abrupt("return",(0,l.Z)({tokenId:t},r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:r=e.sent,n(r);case 13:f(!1);case 14:case"end":return e.stop()}}),e)}))),[h,m,v]);return(0,s.useEffect)((function(){g()}),[g]),{data1:t,isLoading:u,refetch:g}}},77381:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(34051),i=n.n(r),s=n(85893),o=n(10031),a=n(67294),u=n(55854),c=n(18845),l=n(18875),d=n(69795),f=n(58316),p=n(96257),x=n(85241),m=(n(42484),n(38085)),v=(n(86798),n(71350));function h(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){h(s,r,i,o,a,"next",e)}function a(e){h(s,r,i,o,a,"throw",e)}o(void 0)}))}}var b=(0,x.create)("https://ipfs.infura.io:5001/api/v0");function y(){var e=(0,a.useContext)(v.O),t=e.users,n=e.getUsers,r=e.userInfo,x=e.walletId,h=(e.signer,a.useRef()),y=(0,a.useState)([]),k=y[0],w=y[1],j=(0,a.useState)([]),N=j[0],I=j[1],S=(0,a.useState)(!0),L=S[0],T=S[1],R=(0,u.Z)(),A=R.data,C=R.isLoading,E=R.refetch,M=(0,l.Z)(),Z=M.removeListingNftMutation,P=M.isLoading,_=(0,a.useState)({}),U=_[0],q=_[1],O=(0,a.useState)(!0),H=O[0],z=O[1],B=(0,a.useState)(!0),Y=B[0],G=B[1],J=(0,a.useState)(""),D=(J[0],J[1],(0,a.useState)("")),F=(D[0],D[1],(0,a.useState)([1,2])),W=(F[0],F[1],(0,a.useState)(0)),X=(W[0],W[1],(0,c.Z)().data1),V=(0,a.useState)(!1),K=(V[0],V[1],(0,a.useState)(!1)),Q=K[0],$=K[1],ee=(0,a.useState)(null),te=(ee[0],ee[1]),ne=(0,a.useState)(!1),re=(ne[0],ne[1],(0,a.useState)(!1)),ie=(re[0],re[1],(0,a.useState)("favorites")),se=ie[0],oe=ie[1],ae=(0,a.useState)([]),ue=(ae[0],ae[1]),ce=(0,a.useState)(""),le=(ce[0],ce[1],(0,a.useState)("")),de=(le[0],le[1],(0,a.useState)("not-loaded")),fe=(de[0],de[1],(0,a.useState)("")),pe=(fe[0],fe[1],(0,d.Ge)().active),xe=(0,a.useState)([]),me=(xe[0],xe[1],(0,a.useState)("not-loaded"));me[0],me[1];(0,a.useEffect)((function(){pe||(w([]),I([])),T(!0);var e=A.reduce((function(e,t){return t.sold?e.sold.push(t):e.listed.push(t),e}),{sold:[],listed:[]});w(e.sold),I(e.listed),T(!1)}),[pe,A]),(0,a.useEffect)((function(){t&&ve()}),[t,x]);var ve=function(){var e=g(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.filter((function(e){return e.walletId===x})))[0]&&ue(n[0].favorites);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function he(e){return ge.apply(this,arguments)}function ge(){return(ge=g(i().mark((function e(t){var n,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.prev=1,e.next=4,b.add(n,{progress:function(e){return console.log("received: ".concat(e))}});case 4:return r=e.sent,s="https://ipfs.infura.io/ipfs/".concat(r.path),e.next=8,te(s);case 8:be(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error uploading file: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var be=function(){var e=g(i().mark((function e(r){var s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=t.filter((function(e){return e.walletId===x}))).length){e.next=6;break}return o=(0,p.JU)(f.db,"users",s[0].id),e.next=6,(0,p.r7)(o,{imgUrl:r});case 6:n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error uploading file: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=g(i().mark((function e(r){var s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((s=t.filter((function(e){return e.walletId===x}))).length>0)){e.next=6;break}return o=(0,p.JU)(f.db,"users",s[0].id),e.next=5,(0,p.r7)(o,{username:r});case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=g(i().mark((function e(r){var s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((s=t.filter((function(e){return e.walletId===x}))).length>0)){e.next=6;break}return o=(0,p.JU)(f.db,"users",s[0].id),e.next=5,(0,p.r7)(o,{description:r});case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){h.current.click()},je=function(e){$(e)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex justify-center",children:r.imgUrl?(0,s.jsxs)("div",{className:"flex justify-center items-center ",children:[(0,s.jsx)("img",{className:"rounded-full mt-4 h-40 w-40 border-4 ",src:r.imgUrl,style:{borderColor:"red",opacity:Q?"0.5":""},onMouseEnter:function(){return je(!0)},onMouseLeave:function(){return je(!1)}}),(0,s.jsx)("img",{onMouseEnter:function(){return je(!0)},src:"/editing.png",style:{width:"30px",height:"30px",position:"absolute",zIndex:1,display:Q?"":"none",cursor:"pointer"},onClick:we}),(0,s.jsx)("input",{ref:h,type:"file",name:"Asset",className:"my-4",style:{display:"none"},onChange:he})]}):(0,s.jsxs)("div",{className:"flex justify-center items-center ",children:[(0,s.jsx)("img",{className:"rounded-full mt-4 h-40 w-40 border-4 ",style:{borderColor:"red",opacity:Q?"0.5":"",backgroundColor:r.imgUrl?"":"#b84ef2"},onMouseEnter:function(){return je(!0)},onMouseLeave:function(){return je(!1)}}),(0,s.jsx)("img",{onMouseEnter:function(){return je(!0)},src:"/editing.png",style:{width:"30px",height:"30px",position:"absolute",zIndex:1,display:Q?"":"none",cursor:"pointer"},onClick:we}),(0,s.jsx)("input",{ref:h,type:"file",name:"Asset",className:"my-4",style:{display:"none"},onChange:he})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-center mt-4",children:[(0,s.jsx)("div",{className:"text-white",children:"Name:"}),(0,s.jsx)("div",{children:(0,s.jsx)(m.y,{className:"text-2xl",style:{color:"white",height:"100px"},placeholder:r.username?r.username:"name",name:"textbox2",onSave:function(e){z(!0),ye(e.value)},readonly:H})}),(0,s.jsx)("div",{className:"text-white",children:"Bio:"}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,s.jsx)(m.y,{className:"text-white text-2xl ",style:{color:"white",height:"100px"},placeholder:r.description?r.description:"description",name:"textbox3",onSave:function(e){G(!0),ke(e.value)},readonly:Y})}),(0,s.jsxs)("div",{className:"text-white text-xl mt-2 ",children:["Wallet id: ",r.walletId]})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center mt-8 space-x-10 justify-center",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center group",children:[(0,s.jsx)("div",{className:"text-white text-4xl cursor-pointer ",style:{alignText:"center"},onClick:function(){return oe("listed")},children:"Listed"}),"listed"===se&&(0,s.jsx)("div",{className:"inset-0.5 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-100 group-hover:opacity-50 transition duration-1000 group-hover:duration-200 animate-tilt",style:{width:"100%",height:"6px",backgroundColor:"#b84ef2",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center group",children:[(0,s.jsx)("div",{className:"text-white text-4xl cursor-pointer ",style:{alignText:"center"},onClick:function(){return oe("sold")},children:"Sold"}),"sold"===se&&(0,s.jsx)("div",{className:"inset-0.5 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-100 group-hover:opacity-50 transition duration-1000 group-hover:duration-200 animate-tilt",style:{width:"100%",height:"6px",backgroundColor:"#b84ef2",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center group",children:[(0,s.jsx)("div",{className:"text-white text-4xl cursor-pointer ",style:{alignText:"center"},onClick:function(){return oe("mynfts")},children:"My Nfts"}),"mynfts"===se&&(0,s.jsx)("div",{className:"inset-0.5 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-100 group-hover:opacity-50 transition duration-1000 group-hover:duration-200 animate-tilt",style:{width:"100%",height:"6px",backgroundColor:"#b84ef2",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}})]})]}),"listed"===se&&(0,s.jsx)(o.Z,{nfts:N,selectedTokenId:U.tokenId,onHandleAction:function(e){q(e),Z(e.itemId).then((function(e){return q({}),4001===e.code||-32603===e.code&&-32e3===e.data.code?null:E()}))},isActionLoading:P,isLoading:C||L,emptyListMessage:"No items listed"}),"sold"===se&&(0,s.jsx)(o.Z,{nfts:k,isLoading:C||L,emptyListMessage:"No Items sold"}),"mynfts"===se&&(0,s.jsx)(o.Z,{nfts:X,isLoading:C,emptyListMessage:"No assets owned"}),(0,s.jsx)(s.Fragment,{})]})}},7153:function(e,t,n){"use strict";var r=n(35553),i=n(96076);t.Z=function(e,t){var n,s,o;return{price:e.price?r.bM(null===(n=e.price)||void 0===n?void 0:n.toString(),i.z6):null,tokenId:(null===(s=e.tokenId)||void 0===s?void 0:s._isBigNumber)?e.tokenId.toNumber():e.tokenId,itemId:(null===(o=e.itemId)||void 0===o?void 0:o._isBigNumber)?e.itemId.toNumber():e.itemId||null,seller:e.seller||null,owner:e.owner,username:e.username,sold:e.sold,image:(null===t||void 0===t?void 0:t.data.image)||null,name:(null===t||void 0===t?void 0:t.data.name)||null,description:(null===t||void 0===t?void 0:t.data.description)||null,author:(null===t||void 0===t?void 0:t.data.author)||null}}},90594:function(e,t,n){"use strict";var r=n(40782);t.Z=function(e,t,n,i){return r.Am.update(e,{render:function(){return n},type:t,autoClose:3e3,isLoading:i})}}},function(e){e.O(0,[782,774,888,179],(function(){return t=62214,e(e.s=t);var t}));var t=e.O();_N_E=t}]);