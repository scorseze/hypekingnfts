(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3754)}])},67704:function(){"use strict"},10031:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var r=t(85893),i=t(45697),s=t.n(i),o=t(21149),a=t(69795),c=t(11163),u=(t(67704),s().shape({description:s().string.isRequired,image:s().string.isRequired,name:s().string.isRequired,tokenId:s().number.isRequired})),l=t(96076);t(19625);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var f,m=l.aI.LIST_ITEM,p=l.aI.REMOVE_ITEM,v=l.aI.BUY,h=(d(f={},m,{label:"List item",action:m}),d(f,p,{label:"Remove item",action:p}),d(f,v,{label:"Buy",action:v}),{nft:u.isRequired,onHandleAction:s().oneOfType([s().func,s().bool]),isActionLoading:s().bool,selectedTokenId:s().number}),x=function(e){var n=e.nft,t=(e.onHandleAction,e.isActionLoading,e.selectedTokenId,(0,a.Ge)().account,(0,c.useRouter)()),i=n.name,s=n.image,o=(n.description,n.price),u=(n.seller,n.tokenId);return(0,r.jsxs)("li",{className:"relative text-gray-200 border-2 border-rose-600 shadow-homogen bg-background rounded-2xl",onClick:function(){t.push({pathname:"/nft/[nft]",query:{nft:u}})},children:[(0,r.jsxs)("span",{className:"absolute z-10 inline-flex items-center px-3 text-sm font-semibold text-white rounded-full bg-rose-600 right-2 top-2",children:["# ",(0,r.jsx)("span",{className:"pl-1 text-xl",children:n.itemId})]}),(0,r.jsx)("div",{className:"p-4 cursor-pointer",children:(0,r.jsx)("img",{src:s,className:"object-cover aspect-square rounded-2xl"})}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("p",{className:"text-2xl font-semibold",children:i})}),o&&(0,r.jsxs)("div",{className:"flex p-4",children:[(0,r.jsx)("img",{src:"https://app.airnfts.com/coins/bnb.svg",alt:"Metamask logo",height:28,width:28}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white ml-2",children:o})]})]})};x.defaultProps={onHandleAction:null,isActionLoading:!1,selectedTokenId:null},x.propTypes=h;var g=x,b={nfts:s().arrayOf(u).isRequired,onHandleAction:s().oneOfType([s().func,s().bool]),isActionLoading:s().bool,isLoading:s().bool.isRequired,emptyListMessage:s().string.isRequired,selectedTokenId:s().number},w=function(e){return(0,r.jsx)("div",{className:"flex justify-center items-center flex-1",children:e})},k=function(e){var n=e.nfts,t=e.onHandleAction,i=e.isActionLoading,s=e.isLoading,a=e.emptyListMessage,c=e.selectedTokenId;return s?w((0,r.jsx)(o.Z,{size:"1"})):s||n.length?(0,r.jsx)("ul",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 lg:gap-4 xl:grid-cols-4 2xl:grid-cols-5 pt-5",children:n.map((function(e){return(0,r.jsx)(g,{nft:e,onHandleAction:t,isActionLoading:i,selectedTokenId:c},e.tokenId)}))}):w((0,r.jsx)("h1",{className:"text-2xl",children:a}))};k.defaultProps={onHandleAction:null,isActionLoading:!1,selectedTokenId:null},k.propTypes=b;var N=k},91152:function(e,n,t){"use strict";var r=t(34051),i=t.n(r),s=t(67294),o=t(35553),a=t(40782),c=t(96076),u=t(31838),l=t(90594),d=t(23478);function f(e,n,t,r,i,s,o){try{var a=e[s](o),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,i)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){f(s,r,i,o,a,"next",e)}function a(e){f(s,r,i,o,a,"throw",e)}o(void 0)}))}}n.Z=function(){var e=(0,s.useState)(!1),n=e[0],t=e[1],r=(0,s.useRef)(null),f=(0,d.Z)().signedMarketContract,p=function(){var e=m(i().mark((function e(n){var s,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.vz(n.price.toString(),c.z6),t(!0),r.current=(0,a.Am)("Waiting for transaction approval",{isLoading:!0}),e.next=5,f.createMarketSale(u.k,n.itemId,{value:s}).then(function(){var e=m(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.Z)(r.current,a.Am.TYPE.DEFAULT,"Processing transaction",!0),e.abrupt("return",n.wait().then((function(e){return(0,l.Z)(r.current,a.Am.TYPE.SUCCESS,"Purchase successful!"),e})).catch((function(e){return(0,l.Z)(r.current,a.Am.TYPE.ERROR,e.message),e})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){var n=e.message;return-32e3===e.data.code&&(n="Insufficient funds"),(0,l.Z)(r.current,a.Am.TYPE.ERROR,n),e}));case 5:return d=e.sent,t(!1),e.abrupt("return",d);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{buyNftMutation:p,isLoading:n}}},18875:function(e,n,t){"use strict";var r=t(34051),i=t.n(r),s=t(67294),o=t(40782),a=t(31838),c=t(90594),u=t(23478);function l(e,n,t,r,i,s,o){try{var a=e[s](o),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){l(s,r,i,o,a,"next",e)}function a(e){l(s,r,i,o,a,"throw",e)}o(void 0)}))}}n.Z=function(){var e=(0,s.useState)(!1),n=e[0],t=e[1],r=(0,s.useRef)(null),l=(0,u.Z)().signedMarketContract,f=function(){var e=d(i().mark((function e(n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),r.current=(0,o.Am)("Waiting for transaction approval",{isLoading:!0}),e.next=4,l.removeMarketSale(a.k,n).then(function(){var e=d(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.Z)(r.current,o.Am.TYPE.DEFAULT,"Processing transaction",!0),e.abrupt("return",n.wait().then((function(e){return(0,c.Z)(r.current,o.Am.TYPE.SUCCESS,"Item removed successfully!"),e})).catch((function(e){return(0,c.Z)(r.current,o.Am.TYPE.ERROR,e.message),e})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return(0,c.Z)(r.current,o.Am.TYPE.ERROR,e.message),e}));case 4:return s=e.sent,t(!1),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{removeListingNftMutation:f,isLoading:n}}},3754:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var r=t(85893),i=t(67294),s=t(69795),o=t(10031),a=t(34051),c=t.n(a),u=t(40782),l=t(9669),d=t.n(l),f=t(7153),m=t(23478);function p(e,n,t,r,i,s,o){try{var a=e[s](o),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){p(s,r,i,o,a,"next",e)}function a(e){p(s,r,i,o,a,"throw",e)}o(void 0)}))}}var h=function(){var e=(0,i.useState)([]),n=e[0],t=e[1],r=(0,i.useState)(!1),s=r[0],o=r[1],a=(0,m.Z)(),l=a.tokenContract,p=a.marketContract,h=(0,i.useCallback)(v(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,p.fetchMarketItems().catch((function(e){return u.Am.error("".concat(e)),null}));case 3:if(!(n=e.sent)){e.next=9;break}return e.next=7,Promise.all(n.map(function(){var e=v(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.tokenURI(n.tokenId);case 2:return t=e.sent,e.next=5,d().get(t);case 5:return r=e.sent,e.abrupt("return",(0,f.Z)(n,r));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 7:r=e.sent,t(r.reverse());case 9:o(!1);case 10:case"end":return e.stop()}}),e)}))),[p,l]);return(0,i.useEffect)((function(){h()}),[h]),{data:n,isLoading:s,refetch:h}},x=t(72143),g=t(96076),b=t(91152),w=t(18875);function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var N=g.aI.REMOVE_ITEM,j=g.aI.BUY;function I(){var e=(0,i.useState)([]),n=(e[0],e[1],(0,i.useState)({})),t=n[0],a=n[1],c=h(),u=c.data,l=c.isLoading,d=c.refetch,f=(0,s.Ge)().active,m=(0,x.Z)().setIsWalletPanelOpen,p=(0,b.Z)(),v=p.buyNftMutation,g=p.isLoading,I=(0,w.Z)(),y=I.removeListingNftMutation,T=I.isLoading;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-screen sm:flex-row sm:justify-evenly",children:[(0,r.jsxs)("div",{className:"order-4 sm:order-2",children:[(0,r.jsx)("h1",{className:"max-w-xl text-4xl font-semibold leading-tight text-white md:text-5xl",children:"Best NFTs are here!"}),(0,r.jsx)("h4",{className:"mt-8 text-lg font-medium leading-relaxed text-gray-200 ",children:"You can find your favorite NFTs with good prices"})]}),(0,r.jsxs)("div",{className:"order-1 w-3/4 md:w-1/2 sm:order-4",children:[(0,r.jsx)("img",{src:"https://uploads-ssl.webflow.com/60098c5b239e4890fa5ee1aa/61d4b23e0885ed1a0c13bb42_nft-collectibles-hero.png",height:"",width:"650",alt:"Mostra exemplos de NFTs que voc\xea pode negociar no mercado"}),(0,r.jsx)("div",{className:"order-1 w-3/4 md:w-1/2 sm:order-3"})]})]}),(0,r.jsxs)("div",{className:"order-2 sm:order-1",children:[(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsx)("h1",{className:"py-5 text-2xl text-white font-bold ",children:"Explore NFTs \u26a1\ufe0f"})}),(0,r.jsx)("section",{className:"container mx-auto mt-8 md:mt-2 scroll-mt-28",children:(0,r.jsx)(o.Z,{className:"flex flex-col items-center justify-center w-full h-screen sm:flex-row",nfts:u,selectedTokenId:t.tokenId,onHandleAction:function(e,n){return f?(a(e),(k(t={},N,(function(){return y(e.itemId)})),k(t,j,(function(){return v(e)})),t)[n]().then((function(e){return a({}),4001===e.code||-32603===e.code&&-32e3===e.data.code?null:d()}))):m(!0);var t},isActionLoading:g||T,isLoading:l,emptyListMessage:"No items in marketplace"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})]})}},7153:function(e,n,t){"use strict";var r=t(35553),i=t(96076);n.Z=function(e,n){var t,s,o;return{price:e.price?r.bM(null===(t=e.price)||void 0===t?void 0:t.toString(),i.z6):null,tokenId:(null===(s=e.tokenId)||void 0===s?void 0:s._isBigNumber)?e.tokenId.toNumber():e.tokenId,itemId:(null===(o=e.itemId)||void 0===o?void 0:o._isBigNumber)?e.itemId.toNumber():e.itemId||null,seller:e.seller||null,owner:e.owner,username:e.username,sold:e.sold,image:(null===n||void 0===n?void 0:n.data.image)||null,name:(null===n||void 0===n?void 0:n.data.name)||null,description:(null===n||void 0===n?void 0:n.data.description)||null,author:(null===n||void 0===n?void 0:n.data.author)||null}}},90594:function(e,n,t){"use strict";var r=t(40782);n.Z=function(e,n,t,i){return r.Am.update(e,{render:function(){return t},type:n,autoClose:3e3,isLoading:i})}}},function(e){e.O(0,[774,888,179],(function(){return n=78581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);