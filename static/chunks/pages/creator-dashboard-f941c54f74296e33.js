(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{19123:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/creator-dashboard",function(){return n(40722)}])},67704:function(){"use strict"},10031:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(85893),i=n(45697),o=n.n(i),s=n(21149),a=n(69795),c=n(11163),u=(n(67704),o().shape({description:o().string.isRequired,image:o().string.isRequired,name:o().string.isRequired,tokenId:o().number.isRequired})),l=n(96076);n(19625);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f,p=l.aI.LIST_ITEM,m=l.aI.REMOVE_ITEM,g=l.aI.BUY,v=(d(f={},p,{label:"List item",action:p}),d(f,m,{label:"Remove item",action:m}),d(f,g,{label:"Buy",action:g}),{nft:u.isRequired,onHandleAction:o().oneOfType([o().func,o().bool]),isActionLoading:o().bool,selectedTokenId:o().number}),h=function(e){var t=e.nft,n=(e.onHandleAction,e.isActionLoading,e.selectedTokenId,(0,a.Ge)().account,(0,c.useRouter)()),i=t.name,o=t.image,s=(t.description,t.price),u=(t.seller,t.tokenId);return(0,r.jsxs)("li",{className:"relative text-gray-200 border-2 border-rose-600 shadow-homogen bg-background rounded-2xl",onClick:function(){n.push({pathname:"/nft/[nft]",query:{nft:u}})},children:[(0,r.jsxs)("span",{className:"absolute z-10 inline-flex items-center px-3 text-sm font-semibold text-white rounded-full bg-rose-600 right-2 top-2",children:["# ",(0,r.jsx)("span",{className:"pl-1 text-xl",children:t.itemId})]}),(0,r.jsx)("div",{className:"p-4 cursor-pointer",children:(0,r.jsx)("img",{src:o,className:"object-cover aspect-square rounded-2xl"})}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("p",{className:"text-2xl font-semibold",children:i})}),s&&(0,r.jsxs)("div",{className:"flex p-4",children:[(0,r.jsx)("img",{src:"https://app.airnfts.com/coins/bnb.svg",alt:"Metamask logo",height:28,width:28}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white ml-2",children:s})]})]})};h.defaultProps={onHandleAction:null,isActionLoading:!1,selectedTokenId:null},h.propTypes=v;var x=h,b={nfts:o().arrayOf(u).isRequired,onHandleAction:o().oneOfType([o().func,o().bool]),isActionLoading:o().bool,isLoading:o().bool.isRequired,emptyListMessage:o().string.isRequired,selectedTokenId:o().number},k=function(e){return(0,r.jsx)("div",{className:"flex justify-center items-center flex-1",children:e})},w=function(e){var t=e.nfts,n=e.onHandleAction,i=e.isActionLoading,o=e.isLoading,a=e.emptyListMessage,c=e.selectedTokenId;return o?k((0,r.jsx)(s.Z,{size:"1"})):o||t.length?(0,r.jsx)("ul",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 lg:gap-4 xl:grid-cols-4 2xl:grid-cols-5 pt-5",children:t.map((function(e){return(0,r.jsx)(x,{nft:e,onHandleAction:n,isActionLoading:i,selectedTokenId:c},e.tokenId)}))}):k((0,r.jsx)("h1",{className:"text-2xl",children:a}))};w.defaultProps={onHandleAction:null,isActionLoading:!1,selectedTokenId:null},w.propTypes=b;var I=w},18875:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),o=n(67294),s=n(40782),a=n(31838),c=n(90594),u=n(23478);function l(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){l(o,r,i,s,a,"next",e)}function a(e){l(o,r,i,s,a,"throw",e)}s(void 0)}))}}t.Z=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],r=(0,o.useRef)(null),l=(0,u.Z)().signedMarketContract,f=function(){var e=d(i().mark((function e(t){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),r.current=(0,s.Am)("Waiting for transaction approval",{isLoading:!0}),e.next=4,l.removeMarketSale(a.k,t).then(function(){var e=d(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.Z)(r.current,s.Am.TYPE.DEFAULT,"Processing transaction",!0),e.abrupt("return",t.wait().then((function(e){return(0,c.Z)(r.current,s.Am.TYPE.SUCCESS,"Item removed successfully!"),e})).catch((function(e){return(0,c.Z)(r.current,s.Am.TYPE.ERROR,e.message),e})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return(0,c.Z)(r.current,s.Am.TYPE.ERROR,e.message),e}));case 4:return o=e.sent,n(!1),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{removeListingNftMutation:f,isLoading:t}}},55854:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),o=n(67294),s=n(69795),a=n(40782),c=n(9669),u=n.n(c),l=n(7153),d=n(23478);function f(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){f(o,r,i,s,a,"next",e)}function a(e){f(o,r,i,s,a,"throw",e)}s(void 0)}))}}t.Z=function(){var e=(0,o.useState)([]),t=e[0],n=e[1],r=(0,o.useState)(!1),c=r[0],f=r[1],m=(0,s.Ge)().active,g=(0,d.Z)(),v=g.tokenContract,h=g.signedMarketContract,x=(0,o.useCallback)(p(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),m&&h&&v){e.next=5;break}return n([]),f(!1),e.abrupt("return");case 5:return e.next=7,h.fetchItemsCreated().catch((function(e){return a.Am.error("".concat(e)),null}));case 7:if(!(t=e.sent)){e.next=13;break}return e.next=11,Promise.all(t.map(function(){var e=p(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.tokenURI(t.tokenId);case 2:return n=e.sent,e.next=5,u().get(n);case 5:return r=e.sent,e.abrupt("return",(0,l.Z)(t,r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:r=e.sent,n(r);case 13:f(!1);case 14:case"end":return e.stop()}}),e)}))),[h,v,m]);return(0,o.useEffect)((function(){x()}),[x]),{data:t,isLoading:c,refetch:x}}},40722:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(85893),i=n(67294),o=n(69795),s=n(10031),a=n(55854),c=n(18875);function u(){var e=(0,i.useState)([]),t=e[0],n=e[1],u=(0,i.useState)([]),l=u[0],d=u[1],f=(0,i.useState)(!0),p=f[0],m=f[1],g=(0,i.useState)({}),v=g[0],h=g[1],x=(0,i.useState)(""),b=x[0],k=x[1],w=(0,o.Ge)().active,I=(0,a.Z)(),N=I.data,y=I.isLoading,L=I.refetch,j=(0,c.Z)(),T=j.removeListingNftMutation,R=j.isLoading;(0,i.useEffect)((function(){w||(n([]),d([])),m(!0);var e=N.reduce((function(e,t){return t.sold?e.sold.push(t):e.listed.push(t),e}),{sold:[],listed:[]});n(e.sold),d(e.listed),m(!1)}),[w,N]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-center group",children:[(0,r.jsx)("div",{className:"text-white text-4xl cursor-pointer ",style:{alignText:"center"},onClick:function(){return k("owned")},children:"Owned"}),"owned"===b&&(0,r.jsx)("div",{className:"inset-0.5 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-100 group-hover:opacity-50 transition duration-1000 group-hover:duration-200 animate-tilt",style:{width:"100%",height:"6px",backgroundColor:"#b84ef2",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center group",children:[(0,r.jsx)("div",{className:"text-white text-4xl cursor-pointer ",style:{alignText:"center"},onClick:function(){return k("created")},children:"Created"}),"created"===b&&(0,r.jsx)("div",{className:"inset-0.5 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-100 group-hover:opacity-50 transition duration-1000 group-hover:duration-200 animate-tilt",style:{width:"100%",height:"6px",backgroundColor:"#b84ef2",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}})]}),"created"===b&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 ml-16",children:(0,r.jsx)(s.Z,{nfts:t,isLoading:y||p,emptyListMessage:"No Items sold"})}),"owned"===b&&(0,r.jsx)(s.Z,{nfts:l,selectedTokenId:v.tokenId,onHandleAction:function(e){h(e),T(e.itemId).then((function(e){return h({}),4001===e.code||-32603===e.code&&-32e3===e.data.code?null:L()}))},isActionLoading:R,isLoading:y||p,emptyListMessage:"No items listed"})]})}},7153:function(e,t,n){"use strict";var r=n(35553),i=n(96076);t.Z=function(e,t){var n,o,s;return{price:e.price?r.bM(null===(n=e.price)||void 0===n?void 0:n.toString(),i.z6):null,tokenId:(null===(o=e.tokenId)||void 0===o?void 0:o._isBigNumber)?e.tokenId.toNumber():e.tokenId,itemId:(null===(s=e.itemId)||void 0===s?void 0:s._isBigNumber)?e.itemId.toNumber():e.itemId||null,seller:e.seller||null,owner:e.owner,username:e.username,sold:e.sold,image:(null===t||void 0===t?void 0:t.data.image)||null,name:(null===t||void 0===t?void 0:t.data.name)||null,description:(null===t||void 0===t?void 0:t.data.description)||null,author:(null===t||void 0===t?void 0:t.data.author)||null}}},90594:function(e,t,n){"use strict";var r=n(40782);t.Z=function(e,t,n,i){return r.Am.update(e,{render:function(){return n},type:t,autoClose:3e3,isLoading:i})}}},function(e){e.O(0,[774,888,179],(function(){return t=19123,e(e.s=t);var t}));var t=e.O();_N_E=t}]);