(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{3469:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/items/[itemId]",function(){return t(3264)}])},4741:function(e,n,t){"use strict";t.d(n,{e:function(){return h}});var r=t(4051),i=t.n(r),s=t(5893),a=t(7294),o=t(9196),c=t(8346),l=t(4428),u=t(5553),d=t(4382),f=t(5983),m=t(1158);function p(e,n,t,r,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(r,i)}function x(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function a(e){p(s,r,i,a,o,"next",e)}function o(e){p(s,r,i,a,o,"throw",e)}a(void 0)}))}}var h=function(e){var n=e.open,t=e.onClose,r=e.price,p=e.itemId,h=e.onComplete,v=(0,f.y)(),g=v.showSpinner,y=v.hideSpinner,b=(0,a.useContext)(d.n),j=b.connectWallet,N=b.connectedAccount,w=b.getProvider,k=(0,a.useState)(),S=k[0],O=k[1];function C(){return(C=x(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=N){e.next=3;break}return e.next=3,j();case 3:return e.next=5,w();case 5:return n=e.sent,e.next=8,n.getBalance(N);case 8:t=e.sent,O(t.toString());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=x(i().mark((function e(){var n,t,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return n=e.sent,t=n.getSigner(),g(),e.next=7,(0,m.NQ)(t).createMarketSale((0,m.Zi)().address,p.toString(),{value:r});case 7:return s=e.sent,e.next=10,s.wait();case 10:a=e.sent,console.log("tx ",a),h(),y();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),(0,s.jsx)(o.u,{appear:!0,show:n,as:a.Fragment,children:(0,s.jsx)(c.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto ",onClose:t,children:(0,s.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,s.jsx)(c.V.Overlay,{className:"fixed inset-0 transition bg-black opacity-70"}),(0,s.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,s.jsx)(o.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)("div",{className:"inline-block w-full max-w-md p-8 my-8 overflow-hidden text-left align-middle transition-all transform shadow-homogen bg-background rounded-2xl",children:[(0,s.jsx)(c.V.Title,{as:"h2",className:"text-2xl font-medium leading-6 text-white",children:"Place a Bid"}),(0,s.jsx)("div",{className:"w-full h-0.5 my-8 bg-gray-500 rounded-full"}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("p",{className:"font-semibold text-gray-500",children:["Your balance",(0,s.jsxs)("span",{className:"float-right font-medium text-gray-200 font-inter",children:[S&&Number(u.dF(S)).toFixed(2)," ETH"]})]})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("p",{className:"font-semibold text-gray-500",children:["Price"," ",(0,s.jsxs)("span",{className:"float-right font-medium text-gray-200 font-inter",children:[u.dF(r)," ETH"]})]})}),(0,s.jsx)("div",{className:"w-full h-0.5 mt-6 bg-gray-500 rounded-full"}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)("p",{className:"font-semibold text-gray-500",children:["Remaining balance after purchase",(0,s.jsxs)("span",{className:"float-right font-semibold text-white font-inter",children:[S&&function(){var e;if(S){var n=u.fi(S),t=u.fi(r.toString());e=n.sub(t);var i=u.dF(e);i=Math.round(1e4*i)/1e4;var s=u.dF(String(i));return s=(+s).toFixed(2)}}()," ETH"]})]})}),(0,s.jsx)("div",{className:"flex justify-center mt-8 ",children:(0,s.jsx)(l.Z,{onClick:function(){return function(){return P.apply(this,arguments)}()},children:"Buy"})})]})})]})})})}},4428:function(e,n,t){"use strict";var r=t(5893),i=t(7294),s=t(5682);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=i.forwardRef((function(e){var n=e.children,t=(e.className,e.type),i=e.onClick,c=o(e,["children","className","type","onClick"]),l="hover:bg-pink-500 text-white  bg-primary";return t&&"secondary"==t&&(l="text-gray-400 border-2 border-gray-600 shadow-xs shadow-background bg-background hover:border-gray-300 hover:text-gray-300"),(0,r.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({},c,{onClick:i,className:(0,s.AK)(" flex items-center justify-center w-full py-4 leading-none rounded-full px-7 font-semibold transition",l),children:n}))}));c.displayName="Button",n.Z=c},7247:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var r=t(5893),i=(t(7294),function(e){var n=e.children,t=e.onClick;return(0,r.jsx)("div",{className:"flex items-center py-8",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute transition duration-200 rounded-full opacity-60 -inset-0.5 bg-gradient-to-tl from-indigo-500 via-purple-500 to-pink-500 blur group-hover:opacity-100 group-hover:duration-200 animate-tilt"}),(0,r.jsx)("button",{onClick:t,className:"relative flex items-center py-4 leading-none rounded-full bg-gradient-to-tl from-indigo-500 via-purple-500 to-pink-500 px-7",children:(0,r.jsx)("span",{className:"font-medium text-gray-100 transition duration-200 group-hover:text-white",children:n})})]})})})},3264:function(e,n,t){"use strict";t.r(n);var r=t(4051),i=t.n(r),s=t(5893),a=t(7294),o=t(1163),c=t(5983),l=t(5553),u=t(9669),d=t.n(u),f=t(1158),m=t(5682),p=t(4741),x=t(7247);function h(e,n,t,r,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function a(e){h(s,r,i,a,o,"next",e)}function o(e){h(s,r,i,a,o,"throw",e)}a(void 0)}))}}n.default=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var n=function(){if(g)return j&&j==g.owner},t=(0,c.y)(),r=t.showSpinner,u=t.hideSpinner,h=(0,a.useState)(),g=h[0],y=h[1],b=(0,a.useState)(),j=b[0],N=b[1],w=(0,a.useState)(!1),k=w[0],S=w[1],O=(0,o.useRouter)();function C(e){return P.apply(this,arguments)}function P(){return(P=v(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Zi)().ownerOf(n);case 2:t=e.sent,N(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=v(i().mark((function e(n){var t,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,(0,f.NQ)().getNFT(n);case 3:return t=e.sent,console.log("pure ",t.price),e.next=7,(0,f.Zi)().tokenURI(t.tokenId.toString());case 7:return s=e.sent,e.next=10,d().get("https://ipfs.io/ipfs/".concat(s));case 10:return a=e.sent,y({name:a.data.name,image:"https://ipfs.io/ipfs/".concat(a.data.image),description:a.data.description,seller:t.seller,owner:t.owner,isSold:t.isSold,tokenId:t.tokenId.toNumber(),itemId:Number(n),price:t.price}),u(),e.abrupt("return",t.tokenId.toNumber());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){O.isReady&&function(e){return E.apply(this,arguments)}(O.query.itemId).then(function(){var e=v(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[O.isReady]),(0,s.jsx)("div",{children:g&&function(e){var t=l.bM(e.price.toString(),"ether");return(0,s.jsx)("div",{className:"text-white mt-28",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-10 pt-4 pb-12 space-y-10 md:gap-2 md:grid-cols-3",children:[(0,s.jsx)("div",{className:"col-span-2 place-self-center",children:(0,s.jsx)("figure",{className:"flex justify-center px-4 ",children:(0,s.jsx)("img",{src:e.image,className:"object-cover w-full rounded-lg shadow-lg md:w-2/3 aspect-square"})})}),(0,s.jsxs)("div",{className:"h-full ",children:[(0,s.jsxs)("div",{className:"flex flex-col h-full ml-4",children:[(0,s.jsxs)("h1",{className:"text-4xl font-semibold",children:[e.name," - #",e.itemId]}),(0,s.jsx)("p",{className:"mt-10 text-lg font-semibold leading-normal text-gray-400",children:e.description}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col col-span-2 xl:col-span-1",children:[(0,s.jsx)("label",{className:"font-semibold text-gray-500 text-md",children:n()?"Owner":"Seller"}),(0,s.jsx)("p",{className:"text-xl font-semibold lowercase font-poppins",children:j&&(0,m.ek)(j)})]}),(0,s.jsxs)("div",{className:"flex flex-col col-span-2 xl:col-span-1",children:[(0,s.jsx)("label",{className:"font-semibold text-gray-500 text-md",children:"Collection"}),(0,s.jsx)("p",{className:"text-xl font-semibold ",children:"BrixterClub"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col mt-2",children:[(0,s.jsx)("label",{className:"font-semibold text-gray-500 text-md",children:n()?"Last Price":"Price"}),(0,s.jsxs)("p",{className:"text-xl font-bold text-white font-inter",children:[(0,s.jsx)("img",{src:"/eth.svg",className:"inline w-5 h-5 filter brightness-300"})," ",t," ","ETH"]})]}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)(x.j,{onClick:function(){return S(!0)},children:e.isSold?"Sell":"Buy Now"})]}),k&&(0,s.jsx)(p.e,{open:k,onClose:function(){return S(!1)},price:e.price,itemId:e.itemId,onComplete:function(){return S(!1)}})]})]})})}(g)})}},1163:function(e,n,t){e.exports=t(387)}},function(e){e.O(0,[339,774,888,179],(function(){return n=3469,e(e.s=n);var n}));var n=e.O();_N_E=n}]);